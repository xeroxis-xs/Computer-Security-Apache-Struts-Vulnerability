# Computer Security Vulnerability Demo

This is a demo on the CVE-2017–5638 vulnerability.

This demo is referenced from the following Medium article:

[Exploiting Apache Struts2 CVE-2017–5638 | Lucideus Research](https://medium.com/@lucideus/exploiting-apache-struts2-cve-2017-5638-lucideus-research-83adb9490ede)

## Exploitation

### Prerequisits

1. Apache Struts `2 2.3.x` before `2.3.32` and `2.5.x` before `2.5.10.1`
   This exploitation will be using `struts2-showcase-2.3.12.war` application as demo
2. Apache Tomcat `7` or `8` server
   Tested using Tomcat `8`, working fine.
   Link to download:
   [Apache Tomcat](https://tomcat.apache.org/download-80.cgi)
3. JDK
   Tested using `JDK 17`, working fine.

### Steps

1. Install Apache Tomcat server and extract it.
2. Copy `struts2-showcase-2.3.12.war` and place it inside the extracted server `webapps` directory.
   E.g. `apache-tomcat-8.5.100/webapps/struts2-showcase-2.3.12.war`.
3. From the `/bin` directory, start the Tomcat server by running:

```
./startup.sh
```

4. The Tomcat server will deploy `struts2-showcase-2.3.12.war` by extracting it to `struts2-showcase-2.3.12` under `webapps` directory.
5. You can now access the Struts app by navigating to `http://localhost:8080/struts2-showcase-2.3.12/`
6. You may begin the RCE by running the python `main.py` with command scripts.
   Command syntax: `python <exploit-script> <ip> <command>`
   E.g. `python main.py http://localhost:8080/struts2-showcase-2.3.12/ "ls"`
7. To stop the Tomcat server, run:

```
./shutdown.sh
```
